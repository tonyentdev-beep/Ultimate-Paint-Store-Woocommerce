(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,s=window.wp.apiFetch;var a=e.n(s);const n=window.wp.components,i=window.ReactJSXRuntime,r=()=>{const[e,s]=(0,t.useState)([]),[r,l]=(0,t.useState)(""),[o,c]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=await a()({path:"/paint-store/v1/families"});s(e)}catch(e){console.error("Error fetching families:",e)}};return(0,i.jsxs)("div",{className:"color-families-manager",children:[(0,i.jsxs)(n.PanelBody,{title:"Add New Color Family",initialOpen:!0,children:[(0,i.jsx)(n.PanelRow,{children:(0,i.jsx)(n.TextControl,{label:"Family Name (e.g., Blues)",value:r,onChange:e=>l(e)})}),(0,i.jsx)(n.PanelRow,{children:(0,i.jsx)(n.TextControl,{label:"Representative Hex Color (e.g., #0000FF)",value:o,onChange:e=>c(e)})}),(0,i.jsx)(n.Button,{variant:"primary",onClick:async()=>{if(r){h(!0);try{await a()({path:"/paint-store/v1/families",method:"POST",data:{name:r,hex_representative:o}}),l(""),c(""),x()}catch(e){console.error("Error creating family:",e)}h(!1)}},isBusy:d,disabled:!r||d,children:"Add Family"})]}),(0,i.jsxs)("div",{style:{marginTop:"20px"},children:[(0,i.jsx)("h3",{children:"Existing Families"}),(0,i.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Slug"}),(0,i.jsx)("th",{children:"Color Hex"})]})}),(0,i.jsx)("tbody",{children:0===e.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"4",children:"No families found."})}):e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.name}),(0,i.jsx)("td",{children:e.slug}),(0,i.jsxs)("td",{children:[(0,i.jsx)("span",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:e.hex_representative,marginRight:"10px",border:"1px solid #ccc"}}),e.hex_representative]})]},e.id))})]})]})]})},l=()=>{const[e,s]=(0,t.useState)([]),[r,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[x,j]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{u(),g()},[]);const u=async()=>{try{const e=await a()({path:"/paint-store/v1/families"});l(e)}catch(e){console.error("Error fetching families:",e)}},g=async()=>{try{const e=await a()({path:"/paint-store/v1/colors"});s(e)}catch(e){console.error("Error fetching colors:",e)}},v=[{label:"Select a Family...",value:""},...r.map(e=>({label:e.name,value:e.id}))];return(0,i.jsxs)("div",{className:"colors-manager",style:{marginTop:"30px"},children:[(0,i.jsxs)(n.PanelBody,{title:"Add New Specific Color",initialOpen:!0,children:[(0,i.jsx)(n.PanelRow,{children:(0,i.jsx)(n.TextControl,{label:"Color Name (e.g., Naval Blue)",value:o,onChange:e=>c(e)})}),(0,i.jsx)(n.PanelRow,{children:(0,i.jsx)(n.TextControl,{label:"Hex Value (e.g., #324354)",value:d,onChange:e=>h(e)})}),(0,i.jsx)(n.PanelRow,{children:(0,i.jsx)(n.SelectControl,{label:"Assign to Family",value:x,options:v,onChange:e=>j(e)})}),(0,i.jsx)(n.Button,{variant:"primary",onClick:async()=>{if(o&&x){m(!0);try{await a()({path:"/paint-store/v1/colors",method:"POST",data:{name:o,hex_value:d,rgb_value:"",family_id:x}}),c(""),h(""),j(""),g()}catch(e){console.error("Error creating color:",e)}m(!1)}},isBusy:p,disabled:!o||!x||p,children:"Add Color"})]}),(0,i.jsxs)("div",{style:{marginTop:"20px"},children:[(0,i.jsx)("h3",{children:"Existing Colors"}),(0,i.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Family ID"}),(0,i.jsx)("th",{children:"Color Hex"})]})}),(0,i.jsx)("tbody",{children:0===e.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"4",children:"No colors found."})}):e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.name}),(0,i.jsx)("td",{children:e.family_id}),(0,i.jsxs)("td",{children:[(0,i.jsx)("span",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:e.hex_value,marginRight:"10px",border:"1px solid #ccc"}}),e.hex_value]})]},e.id))})]})]})]})},o=()=>{const[e,s]=(0,t.useState)("colors");return(0,i.jsxs)("div",{className:"paint-store-admin-wrap",children:[(0,i.jsx)("h1",{children:"Paint Store Management"}),(0,i.jsxs)("div",{className:"nav-tab-wrapper",style:{marginBottom:"20px"},children:[(0,i.jsx)("button",{className:"nav-tab "+("colors"===e?"nav-tab-active":""),onClick:()=>s("colors"),children:"Colors & Families"}),(0,i.jsx)("button",{className:"nav-tab "+("products"===e?"nav-tab-active":""),onClick:()=>s("products"),children:"Products & Bases"}),(0,i.jsx)("button",{className:"nav-tab "+("settings"===e?"nav-tab-active":""),onClick:()=>s("settings"),children:"Settings"})]}),(0,i.jsxs)("div",{className:"tab-content",children:["colors"===e&&(0,i.jsxs)("div",{children:[(0,i.jsx)(r,{}),(0,i.jsx)("hr",{style:{margin:"40px 0"}}),(0,i.jsx)(l,{})]}),"products"===e&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Manage Products"}),(0,i.jsx)("p",{children:"Product mapping and bases interface will go here."})]}),"settings"===e&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Store Settings"}),(0,i.jsx)("p",{children:"General store settings."})]})]})]})};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("paint-store-admin-root");e&&(0,t.render)((0,i.jsx)(o,{}),e)})})();